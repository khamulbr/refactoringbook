<html>
    <head>
        <script
            src="https://code.jquery.com/jquery-3.3.1.js"
            integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
            crossorigin="anonymous"></script>
        <script type="text/javascript" src="src/billprint.js"></script>
    </head>
    <body>
        <script>
            // Load JSON text from server hosted file and return JSON parsed object
            function loadJSON(filePath) {
                // Load json file;
                var json = loadTextFileAjaxSync(filePath, "application/json");
                // Parse json
                return JSON.parse(json);
            }  
           
            // Load text with Ajax synchronously: takes path to file and optional MIME type
            function loadTextFileAjaxSync(filePath, mimeType)
            {
                var xmlhttp=new XMLHttpRequest();
                xmlhttp.open("GET",filePath,false);
                if (mimeType != null) {
                    if (xmlhttp.overrideMimeType) {
                    xmlhttp.overrideMimeType(mimeType);
                    }
                }
                xmlhttp.send();
                if (xmlhttp.status==200)
                {
                    return xmlhttp.responseText;
                }
                else {
                    // TODO Throw exception
                    return null;
                }
            }
           
            var invoices = loadJSON("data/invoices.json");

            var plays = loadJSON("data/plays.json");

            console.log(invoices);
            console.log(plays);

            console.log(statement(invoices[0], plays));
           
        </script>
    </body>
</html>
